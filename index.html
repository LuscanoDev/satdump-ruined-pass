<!DOCTYPE html>
<html lang="en">
<!-- Original written by luscanodev found here: https://github.com/LuscanoDev/satdump-ruined-pass-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruined Satellite Pass Assessment Form</title>
    <link rel="stylesheet" href="style.css">
    <script src="html2canvas.js"></script>
</head>

<body>
    <script>
        function dwnld() {
            //I'm going to go crazy :D
            const container = document.getElementById("container");

            html2canvas(container,{
            scale: 3,
            //this is needed because for some reason html2canvas can't just deal with inputs 
            onclone: function(clonedDoc) {
                // Find the same elements in the original DOM and the cloned DOM
                const originals = container.querySelectorAll('input[type="text"]');
                const clones = clonedDoc.getElementById('container').querySelectorAll('input[type="text"]');

                originals.forEach((origInput, index) => {
                const cloneInput = clones[index];

                const span = document.createElement('span');
                span.textContent = origInput.value;

                // Copy computed styles
                const style = window.getComputedStyle(origInput);
                span.style.cssText = style.cssText;

                // Explicitly copy dimensions, and fix some formatting
                span.style.fontSize = "12px"
                span.style.textAlign = "left";
                span.style.display = 'inline-block';
                span.style.width = origInput.offsetWidth + 'px';
                span.style.height = origInput.offsetHeight + 'px';
                span.style.lineHeight = style.lineHeight;
                span.style.padding = style.padding;
                span.style.border = style.border || '1px solid #ccc';
                span.style.boxSizing = 'border-box';
                span.style.verticalAlign = 'middle';
                span.style.overflow = 'hidden';
                span.style.whiteSpace = 'nowrap';

                // Replace input with span in the cloned DOM
                cloneInput.parentNode.replaceChild(span, cloneInput);
                });
            }
            }).then(function(canvas) {
                var link = document.createElement('a');
                link.download = 'cryaboutit.png';
                link.href = canvas.toDataURL()
                link.click();

            });
        }
    </script>
    <div class="container" id="container">
        <div class="header">
            <img src="satdump.png" alt="Satdump Logo" class="satdump">
            <span class="satdump-title">SatDump</span>
        </div>

        <h2 style="text-decoration: underline; margin-top: 40px;">Ruined Satellite Pass Assessment Form</h2>

        <form>
            <div style="margin-bottom: 10px;">Satellite: <input type="text" placeholder="Meteor M2-4" class="thing-form"> Date and time of ruined pass: <input type="text" placeholder="01/12/2024 10:48" class="thing-form"></div>
            <div class="box" style="border-bottom: 0px;">
                <span><b>What emotions were going through your head upon ruining the pass?</b> (check all that apply)</span>
            </div>
            <div class="box" style="margin-bottom: 5px;">
                <input type="checkbox">
                <label>Panic</label>

                <input type="checkbox">
                <label>Remorse</label>

                <input type="checkbox">
                <label>Desire to rant about it</label>

                <input type="checkbox">
                <label>Desire to quit satrx</label>

                <input type="checkbox">
                <label>Fear, uncertainty and doubt</label>
                
                <input type="checkbox">
                <label>Rage</label>

                <input type="checkbox">
                <label>Wah wah wah</label>

                <input type="checkbox">
                <label>Desire to do only APT</label>

                <input type="checkbox">
                <label>Other: </label>

                <input type="text" style="height: auto; width: 234px;" placeholder="Please specify">
            </div>

            <div class="box" style="border-bottom: 0px;">
                <span><b>What initially caused the pass to be ruined?</b> (check all that apply)</span>
            </div>
            <div class="box" style="margin-bottom: 5px;">
                <input type="checkbox">
                <label>SatDump crashed</label> <br>

                <input type="checkbox">
                <label>Entire PC crashed or shut down</label> <br>

                <input type="checkbox">
                <label>USB cable got disconnected</label> <br>

                <input type="checkbox">
                <label>LNA died mid pass</label> <br>

                <input type="checkbox">
                <label>SMA connection was loose</label> <br>
                
                <input type="checkbox">
                <label>I forgot the SMA adapters at home</label> <br>
                
                <input type="checkbox">
                <label>I selected the wrong frequency</label> <br>

                <input type="checkbox">
                <label>I tried to receive HRPT with 250 ksps</label> <br>

                <input type="checkbox">
                <label>The whole neighborhood called their grandkids at once</label> <br>

                <input type="checkbox">
                <label>I tripped on the coaxial cable</label>  <br>

                <input type="checkbox">
                <label>A </label> 
                <input type="text" placeholder="vehicle type">
                <label> parked in front of the dish</label> <br>

                <input type="checkbox">
                <label>I tried tracking a 90° pass with one hand while playing games on my phone</label> <br>

                <input type="checkbox">
                <label>There were lots of VDL2 bursts</label> <br>

                <input type="checkbox">
                <label>Meteor-M and NOAA overlapped on the 137MHz band</label> <br>

                <input type="checkbox">
                <label>I forgot to set an alarm and slept through the pass</label> <br>

                <input type="checkbox">
                <label>Look4sat told me the satellite passed at the wrong time</label> <br>

                <input type="checkbox">
                <label>The neighbor switched on a noisy device</label> <br>

                <input type="checkbox">
                <label>I forgot to close </label> 
                <input type="text" placeholder="program name">
                <label> and it caused sample drops</label> <br>

                <input type="checkbox">
                <label>I listened to</label> 
                <input type="text" placeholder="Matrix nick"> <br>

                <input type="checkbox">
                <label>I didn’t listen to</label> 
                <input type="text" placeholder="Matrix nick"> <br>

                <input type="checkbox">
                <label>My antenna fell apart</label> <br>

                <input type="checkbox">
                <label>I tried receiving the satellite while on a moving train by sticking the V dipole out of the window</label> <br>

                <input type="checkbox">
                <label>I don’t know, but it wasn’t my fault</label> <br>

                <input type="checkbox">
                <label>Other: </label>
                <input type="text" style="width: 555px;" placeholder="Please specify">
            </div>

            <div class="box" style="border-bottom: 0px;">
                <span><b>What have you tried so far to try and salvage the ruined pass?</b> (check all that apply)</span>
            </div>
            <div class="box" style="margin-bottom: 5px;">
                <input type="checkbox">
                <label>Finishing the pass anyway</label>

                <input type="checkbox">
                <label>Trying another satellite</label>

                <input type="checkbox">
                <label>Cursing out 10 different deities</label> 

                <input type="checkbox"> 
                <label>Crying</label> <br>

                <input type="checkbox">
                <label>Crying on Matrix</label> 
                
                <input type="checkbox">
                <label>Other: </label>

                <input type="text" style="height: auto; width: 430px;" placeholder="Please specify">
            </div>
        </form>
        <button onclick="dwnld()" data-html2canvas-ignore> Download as a picture</button>

        <p style="text-align: left; font-size: 12px; margin-left: 70px; margin-right: 70px;">Please return completed form to /dev/null along with any baseband, CADU or frames file in order for your ruined satellite pass to be assessed by a trained SatDump specialist.</p>
        
    </div>
</body>

</html>
